<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skillmotion.AI - Your AI-Powered Skill Development Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .chat-bubble {
            animation: fadeInUp 0.3s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .typing-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #9ca3af;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-indicator:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% {
                transform: scale(0);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .voice-pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(139, 92, 246, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(139, 92, 246, 0);
            }
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .voice-wave {
            animation: voiceWave 1.5s ease-in-out infinite;
        }

        @keyframes voiceWave {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(1.5); }
        }

        .listening-animation {
            animation: listening 2s ease-in-out infinite;
        }

        @keyframes listening {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        .speaking-animation {
            animation: speaking 1s ease-in-out infinite;
        }

        @keyframes speaking {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.05); }
            50% { transform: scale(1.1); }
            75% { transform: scale(1.05); }
        }

        .upload-zone {
            border: 2px dashed #6b7280;
            transition: all 0.3s ease;
        }

        .upload-zone:hover {
            border-color: #8b5cf6;
            background-color: rgba(139, 92, 246, 0.1);
        }

        .upload-zone.dragover {
            border-color: #8b5cf6;
            background-color: rgba(139, 92, 246, 0.2);
        }

        .resume-indicator {
            animation: resumePulse 2s infinite;
        }

        @keyframes resumePulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 glass-effect">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <span class="text-xl font-bold">Skillmotion.AI</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="#features" class="hover:text-purple-300 transition-colors">Features</a>
                    <a href="#interface" class="hover:text-purple-300 transition-colors">Try AI</a>
                    <a href="#about" class="hover:text-purple-300 transition-colors">About</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="gradient-bg min-h-screen flex items-center justify-center relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
            <div class="floating absolute top-20 left-10 w-4 h-4 bg-white rounded-full"></div>
            <div class="floating absolute top-40 right-20 w-6 h-6 bg-purple-300 rounded-full" style="animation-delay: -1s;"></div>
            <div class="floating absolute bottom-40 left-1/4 w-5 h-5 bg-pink-300 rounded-full" style="animation-delay: -2s;"></div>
        </div>

        <div class="max-w-4xl mx-auto text-center px-4 z-10">
            <h1 class="text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">
                Your AI-Powered<br>Skill Development<br>Assistant
            </h1>
            <p class="text-xl md:text-2xl mb-8 text-gray-200 max-w-2xl mx-auto">
                Discover your potential, bridge skill gaps, and accelerate your career growth with personalized AI guidance and voice-enabled learning.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="startVoiceMode()" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-4 rounded-lg font-semibold text-lg transition-all transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                    </svg>
                    <span>Voice</span>
                </button>
                <button onclick="startTextMode()" class="glass-effect hover:bg-white hover:bg-opacity-20 px-8 py-4 rounded-lg font-semibold text-lg transition-all flex items-center justify-center space-x-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                    </svg>
                    <span>Text</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-20 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4">Powered by Advanced AI</h2>
                <p class="text-xl text-gray-300 max-w-2xl mx-auto">
                    Experience the future of skill development with our comprehensive AI-driven platform
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <div class="glass-effect p-8 rounded-xl hover:bg-opacity-20 transition-all">
                    <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-4">AI-Powered Analysis</h3>
                    <p class="text-gray-300">
                        Advanced LLM technology analyzes your skills, identifies gaps, and creates personalized development plans.
                    </p>
                </div>

                <div class="glass-effect p-8 rounded-xl hover:bg-opacity-20 transition-all">
                    <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-4">Voice Interaction</h3>
                    <p class="text-gray-300">
                        Natural voice conversations with our AI assistant for hands-free learning and seamless interaction.
                    </p>
                </div>

                <div class="glass-effect p-8 rounded-xl hover:bg-opacity-20 transition-all">
                    <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-4">Resume Analysis</h3>
                    <p class="text-gray-300">
                        Upload your resume for comprehensive analysis, skill gap identification, and personalized recommendations.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Interface Section -->
    <section id="interface" class="py-20 bg-gray-900">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4">Experience AI-Powered Learning</h2>
                <p class="text-xl text-gray-300">
                    Choose your preferred interaction mode and start your skill development journey
                </p>
            </div>

            <!-- Voice Assistant Interface -->
            <div class="glass-effect rounded-xl overflow-hidden mb-8" id="voiceInterface" style="display: none;">
                <div class="bg-gradient-to-r from-purple-600 to-pink-600 p-4 flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-semibold">Voice Assistant</h3>
                            <p class="text-sm text-purple-100" id="voiceStatus">Ready to listen</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="showResumeUpload('voice')" class="p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all" title="Upload Resume">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                        </button>
                        <button onclick="showChatLog()" class="p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all" title="Show Chat Log">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                            </svg>
                        </button>
                        <button onclick="closeInterface()" class="p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Resume Status Indicator for Voice Mode -->
                <div id="voiceResumeStatus" class="bg-green-600 bg-opacity-20 border-l-4 border-green-500 p-3 hidden">
                    <div class="flex items-center">
                        <svg class="w-5 h-5 text-green-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span class="text-sm text-green-300">Resume uploaded and analyzed - I can now provide personalized advice!</span>
                    </div>
                </div>

                <div class="p-8 text-center">
                    <div class="mb-8">
                        <div class="w-32 h-32 mx-auto bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-4 relative" id="voiceAvatar">
                            <svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                            </svg>
                            <div id="voiceResumeIndicator" class="absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full items-center justify-center hidden resume-indicator">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                            </div>
                        </div>
                        <h3 class="text-2xl font-bold mb-2">Voice Assistant Active</h3>
                        <p class="text-gray-300" id="voiceInstructions">Click the microphone button below to start speaking</p>
                    </div>

                    <div class="flex justify-center space-x-4">
                        <button onclick="toggleVoiceRecording()" id="micButton" class="w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-full flex items-center justify-center transition-all transform hover:scale-105 shadow-lg">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                            </svg>
                        </button>
                    </div>

                    <div class="mt-6 text-sm text-gray-400">
                        <p>Speak naturally and I'll help you with skill development, career advice, and learning plans</p>
                    </div>
                </div>
            </div>

            <!-- Text Chat Interface -->
            <div class="glass-effect rounded-xl overflow-hidden" id="textInterface" style="display: none;">
                <div class="bg-gradient-to-r from-blue-600 to-cyan-600 p-4 flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-semibold">Text Chat</h3>
                            <p class="text-sm text-blue-100">Online</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="showResumeUpload('text')" class="p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all" title="Upload Resume">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                        </button>
                        <button onclick="closeInterface()" class="p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Resume Status Indicator for Text Mode -->
                <div id="textResumeStatus" class="bg-green-600 bg-opacity-20 border-l-4 border-green-500 p-3 hidden">
                    <div class="flex items-center">
                        <svg class="w-5 h-5 text-green-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span class="text-sm text-green-300">Resume uploaded and analyzed - I can now provide personalized advice!</span>
                    </div>
                </div>

                <div class="h-96 overflow-y-auto p-4 space-y-4" id="chatMessages">
                    <div class="flex items-start space-x-3 chat-bubble">
                        <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center flex-shrink-0">
                            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <div class="bg-gray-700 rounded-lg px-4 py-2 max-w-xs">
                            <p class="text-sm">Hello! I'm your AI skill development assistant. I can help you identify skill gaps, create learning plans, and guide your career growth. Upload your resume for personalized advice, or just start chatting!</p>
                        </div>
                    </div>
                </div>

                <div class="border-t border-gray-700 p-4">
                    <div class="flex space-x-2">
                        <input type="text" id="messageInput" placeholder="Type your message..." class="flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500 text-white">
                        <button onclick="sendTextMessage()" class="bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 px-6 py-2 rounded-lg font-semibold transition-all">
                            Send
                        </button>
                    </div>
                </div>
            </div>

            <!-- Resume Upload Modal -->
            <div id="resumeUploadModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4" style="display: none;">
                <div class="glass-effect rounded-xl max-w-lg w-full">
                    <div class="bg-gradient-to-r from-green-600 to-teal-600 p-4 flex items-center justify-between">
                        <h3 class="font-semibold text-white">Upload Your Resume</h3>
                        <button onclick="closeResumeUpload()" class="p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="p-6">
                        <div class="upload-zone rounded-lg p-8 text-center mb-4" id="uploadZone">
                            <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                            </svg>
                            <p class="text-lg font-semibold mb-2">Drop your resume here</p>
                            <p class="text-gray-400 mb-4">or click to browse files</p>
                            <input type="file" id="resumeFileInput" accept=".pdf,.doc,.docx,.txt" class="hidden">
                            <button onclick="document.getElementById('resumeFileInput').click()" class="bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 px-6 py-2 rounded-lg font-semibold transition-all">
                                Choose File
                            </button>
                        </div>
                        <div class="text-sm text-gray-400 text-center">
                            <p>Supported formats: PDF, DOC, DOCX, TXT</p>
                            <p>Maximum file size: 10MB</p>
                        </div>
                        <div id="uploadProgress" class="mt-4 hidden">
                            <div class="bg-gray-700 rounded-full h-2">
                                <div id="progressBar" class="bg-gradient-to-r from-green-500 to-teal-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                            <p class="text-sm text-center mt-2" id="uploadStatus">Uploading...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Log Modal -->
            <div id="chatLogModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4" style="display: none;">
                <div class="glass-effect rounded-xl max-w-2xl w-full max-h-96 overflow-hidden">
                    <div class="bg-gradient-to-r from-purple-600 to-pink-600 p-4 flex items-center justify-between">
                        <h3 class="font-semibold text-white">Conversation History</h3>
                        <button onclick="closeChatLog()" class="p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="p-4 max-h-80 overflow-y-auto" id="chatLogContent">
                        <p class="text-gray-400 text-center">No conversation history yet. Start talking to see your chat log here.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4">Built with Cutting-Edge Technology</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    Skillmotion.AI leverages the latest advances in artificial intelligence, using only free and open-source tools to deliver enterprise-grade capabilities.
                </p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="text-center">
                    <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                    </div>
                    <h3 class="font-bold mb-2">Groq LLM</h3>
                    <p class="text-gray-300 text-sm">Ultra-fast language model inference</p>
                </div>

                <div class="text-center">
                    <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 00-2 2v0a2 2 0 002 2m0 0h14m-14 0a2 2 0 002 2v4a2 2 0 002 2"></path>
                        </svg>
                    </div>
                    <h3 class="font-bold mb-2">LangGraph</h3>
                    <p class="text-gray-300 text-sm">Advanced LLM orchestration</p>
                </div>

                <div class="text-center">
                    <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-teal-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2a1 1 0 011-1h4a1 1 0 011 1v2M7 4h10l1 16H6L7 4z"></path>
                        </svg>
                    </div>
                    <h3 class="font-bold mb-2">Cohere Embeddings</h3>
                    <p class="text-gray-300 text-sm">Semantic search and RAG</p>
                </div>

                <div class="text-center">
                    <div class="w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                        </svg>
                    </div>
                    <h3 class="font-bold mb-2">Edge-TTS</h3>
                    <p class="text-gray-300 text-sm">High-quality voice synthesis</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <span class="text-xl font-bold">Skillmotion.AI</span>
                </div>
                <p class="text-gray-400 mb-8">Empowering careers through AI-driven skill development</p>
                <p class="text-gray-500 text-sm">Â© 2024 Skillmotion.AI. Built with free and open-source technologies.</p>
            </div>
        </div>
    </footer>

    <script>
        // Global variables
        let recognition = null;
        let synthesis = window.speechSynthesis;
        let isListening = false;
        let isSpeaking = false;
        let currentMode = null; // 'voice' or 'text'
        let conversationHistory = [];
        let currentResumeData = null;
        let hasVoiceWelcomed = false;
        let currentSessionId = null;
        let currentAIResponse = '';
        let shouldAutoRestart = false;
        let continuousMode = false;
        let currentAudio = null;

        // Array of welcome messages - randomly selected each time
        const welcomeMessages = [
            "Hello! Welcome to Skillmotion AI, your personal career development assistant. I'm here to help you unlock your potential and accelerate your professional growth. How can I assist you today?",

            "Greetings! I'm your AI-powered skill development companion. Whether you're looking to identify skill gaps, create learning plans, or get career advice, I'm here to guide you every step of the way. What would you like to explore?",

            "Welcome to Skillmotion AI! I'm excited to be your partner in professional development. I can analyze your skills, suggest learning paths, and provide personalized career guidance. Upload your resume for tailored advice, or simply tell me about your goals. How shall we begin?",

            "Hello there! I'm your dedicated AI career coach, ready to help you navigate your professional journey. From skill assessments to learning roadmaps, I'm here to support your growth. What aspect of your career development interests you most?",

            "Welcome! I'm Skillmotion AI, your intelligent career development assistant. I specialize in helping professionals like you identify opportunities, bridge skill gaps, and create actionable growth plans. What brings you here today?"
        ];

        // Initialize Web Speech API with continuous mode
        if ('webkitSpeechRecognition' in window) {
            recognition = new webkitSpeechRecognition();
            recognition.continuous = true;
            recognition.interimResults = true;
            recognition.lang = 'en-US';

            recognition.onstart = function() {
                isListening = true;
                updateVoiceStatus('Listening...');
                document.getElementById('voiceAvatar').classList.add('listening-animation');
                document.getElementById('micButton').classList.add('voice-pulse');
            };

            recognition.onresult = function(event) {
                const last = event.results.length - 1;
                const transcript = event.results[last][0].transcript;

                if (event.results[last].isFinal) {
                    console.log('Voice input (final):', transcript);

                    if (isSpeaking) {
                        console.log('Interruption detected!');
                        handleInterruption(transcript);
                    } else {
                        processVoiceInput(transcript);
                    }
                }
            };

            recognition.onend = function() {
                isListening = false;
                document.getElementById('voiceAvatar').classList.remove('listening-animation');
                document.getElementById('micButton').classList.remove('voice-pulse');

                if (shouldAutoRestart && continuousMode && currentMode === 'voice') {
                    setTimeout(() => {
                        if (!isSpeaking && continuousMode) {
                            console.log('Auto-restarting recognition...');
                            try {
                                recognition.start();
                            } catch (e) {
                                console.log('Recognition already started or error:', e);
                            }
                        }
                    }, 500);
                }
            };

            recognition.onerror = function(event) {
                console.error('Speech recognition error:', event.error);
                isListening = false;
                document.getElementById('voiceAvatar').classList.remove('listening-animation');
                document.getElementById('micButton').classList.remove('voice-pulse');

                if (event.error === 'no-speech' || event.error === 'aborted') {
                    if (shouldAutoRestart && continuousMode) {
                        setTimeout(() => {
                            if (continuousMode && !isSpeaking) {
                                try {
                                    recognition.start();
                                } catch (e) {
                                    console.log('Could not restart:', e);
                                }
                            }
                        }, 500);
                    }
                } else {
                    updateVoiceStatus('Error occurred. Click mic to restart.');
                }
            };
        }

        // Mode switching functions
        async function startVoiceMode() {
            currentMode = 'voice';
            continuousMode = true;
            shouldAutoRestart = true;

            document.getElementById('voiceInterface').style.display = 'block';
            document.getElementById('textInterface').style.display = 'none';
            document.getElementById('voiceInterface').scrollIntoView({ behavior: 'smooth' });

            try {
                const response = await fetch('http://localhost:8000/api/session/start', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        user_id: 'voice_user',
                        mode: 'voice'
                    })
                });
                const data = await response.json();
                if (data.success) {
                    currentSessionId = data.session_id;
                    console.log('Session started:', currentSessionId);
                }
            } catch (e) {
                console.error('Could not start session:', e);
            }

            setTimeout(() => {
                playVoiceWelcome();
            }, 1000);
        }

        function playVoiceWelcome() {
            if (!hasVoiceWelcomed) {
                hasVoiceWelcomed = true;

                // Select a random welcome message
                const randomWelcome = welcomeMessages[Math.floor(Math.random() * welcomeMessages.length)];

                // Add to conversation history
                conversationHistory.push({
                    type: 'ai',
                    content: randomWelcome,
                    timestamp: new Date().toISOString(),
                    mode: 'voice'
                });

                // Speak the welcome message
                speakResponse(randomWelcome);
            }
        }

        function startTextMode() {
            currentMode = 'text';
            document.getElementById('textInterface').style.display = 'block';
            document.getElementById('voiceInterface').style.display = 'none';
            document.getElementById('textInterface').scrollIntoView({ behavior: 'smooth' });
        }

        async function closeInterface() {
            continuousMode = false;
            shouldAutoRestart = false;

            document.getElementById('voiceInterface').style.display = 'none';
            document.getElementById('textInterface').style.display = 'none';
            currentMode = null;
            hasVoiceWelcomed = false;

            if (recognition && isListening) {
                recognition.stop();
            }
            if (synthesis.speaking) {
                synthesis.cancel();
            }
            if (currentAudio) {
                currentAudio.pause();
                currentAudio = null;
            }

            if (currentSessionId) {
                try {
                    await fetch('http://localhost:8000/api/session/end', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({session_id: currentSessionId})
                    });
                } catch (e) {
                    console.error('Could not end session:', e);
                }
                currentSessionId = null;
            }
        }

        // Resume upload functions
        function showResumeUpload(mode) {
            document.getElementById('resumeUploadModal').style.display = 'flex';

            // Setup drag and drop
            const uploadZone = document.getElementById('uploadZone');
            const fileInput = document.getElementById('resumeFileInput');

            uploadZone.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadZone.classList.add('dragover');
            });

            uploadZone.addEventListener('dragleave', function(e) {
                e.preventDefault();
                uploadZone.classList.remove('dragover');
            });

            uploadZone.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadZone.classList.remove('dragover');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleResumeUpload(files[0]);
                }
            });

            fileInput.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    handleResumeUpload(e.target.files[0]);
                }
            });
        }

        function closeResumeUpload() {
            document.getElementById('resumeUploadModal').style.display = 'none';
            document.getElementById('uploadProgress').classList.add('hidden');
            document.getElementById('progressBar').style.width = '0%';
        }

        function handleResumeUpload(file) {
            // Validate file type
            const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain'];
            if (!allowedTypes.includes(file.type)) {
                alert('Please upload a PDF, DOC, DOCX, or TXT file.');
                return;
            }

            // Validate file size (10MB limit)
            if (file.size > 10 * 1024 * 1024) {
                alert('File size must be less than 10MB.');
                return;
            }

            // Show progress
            document.getElementById('uploadProgress').classList.remove('hidden');
            document.getElementById('uploadStatus').textContent = 'Uploading...';

            // Create FormData
            const formData = new FormData();
            formData.append('file', file);

            // Upload file
            fetch('http://localhost:8000/api/upload-resume', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Upload failed');
                }
                return response.json();
            })
            .then(data => {
                document.getElementById('progressBar').style.width = '100%';
                document.getElementById('uploadStatus').textContent = 'Processing resume...';

                if (data.success) {
                    currentResumeData = data.resume_data;

                    // Show success message
                    setTimeout(() => {
                        document.getElementById('uploadStatus').textContent = 'Resume uploaded successfully!';

                        // Update UI to show resume is uploaded
                        updateResumeStatus(true);

                        // Close modal after delay
                        setTimeout(() => {
                            closeResumeUpload();

                            // Add welcome message with resume context
                            const welcomeMessage = "Great! I've analyzed your resume and can now provide personalized career advice, skill gap analysis, and learning recommendations based on your background.";

                            if (currentMode === 'voice') {
                                speakResponse(welcomeMessage);
                            } else if (currentMode === 'text') {
                                addAIMessageToChat(welcomeMessage);
                            }

                            // Add to conversation history
                            conversationHistory.push({
                                type: 'system',
                                content: 'Resume uploaded and analyzed',
                                timestamp: new Date().toISOString(),
                                mode: currentMode
                            });

                        }, 2000);
                    }, 1000);
                } else {
                    throw new Error(data.message || 'Upload failed');
                }
            })
            .catch(error => {
                console.error('Upload error:', error);
                document.getElementById('uploadStatus').textContent = 'Upload failed. Please try again.';
                document.getElementById('progressBar').style.width = '0%';
            });
        }

        function updateResumeStatus(isUploaded) {
            const voiceStatus = document.getElementById('voiceResumeStatus');
            const textStatus = document.getElementById('textResumeStatus');
            const voiceIndicator = document.getElementById('voiceResumeIndicator');

            if (isUploaded) {
                voiceStatus.classList.remove('hidden');
                textStatus.classList.remove('hidden');
                voiceIndicator.classList.remove('hidden');
                voiceIndicator.classList.add('flex');
            } else {
                voiceStatus.classList.add('hidden');
                textStatus.classList.add('hidden');
                voiceIndicator.classList.add('hidden');
                voiceIndicator.classList.remove('flex');
            }
        }

        // Handle interruption
        function handleInterruption(newQuery) {
            console.log('Handling interruption with new query:', newQuery);

            if (synthesis.speaking) {
                synthesis.cancel();
            }
            if (currentAudio) {
                currentAudio.pause();
                currentAudio = null;
            }

            isSpeaking = false;
            updateVoiceStatus('Switching to new question...');

            setTimeout(() => {
                processVoiceInput(newQuery, true);
            }, 300);
        }

        // Voice interface functions
        function toggleVoiceRecording() {
            if (!recognition) {
                alert('Speech recognition is not supported in your browser. Please use Chrome or Edge.');
                return;
            }

            continuousMode = !continuousMode;
            shouldAutoRestart = continuousMode;

            if (continuousMode) {
                if (!isListening && !isSpeaking) {
                    try {
                        recognition.start();
                    } catch (e) {
                        console.log('Recognition error:', e);
                    }
                }
                updateVoiceStatus('Continuous mode ON - I\'m listening...');
            } else {
                if (isListening) {
                    recognition.stop();
                }
                updateVoiceStatus('Continuous mode OFF - Click to activate');
            }
        }

        function updateVoiceStatus(status) {
            document.getElementById('voiceStatus').textContent = status;
            document.getElementById('voiceInstructions').textContent = status;
        }

        function processVoiceInput(transcript, isInterruption = false) {
            conversationHistory.push({
                type: 'user',
                content: transcript,
                timestamp: new Date().toISOString(),
                mode: 'voice'
            });

            updateVoiceStatus('Thinking...');

            fetch('http://localhost:8000/api/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    message: transcript,
                    voice_enabled: true,
                    user_id: 'voice_user',
                    resume_data: currentResumeData,
                    is_interruption: isInterruption,
                    current_response: isInterruption ? currentAIResponse : null,
                    session_id: currentSessionId
                })
            })
            .then(response => response.json())
            .then(data => {
                conversationHistory.push({
                    type: 'ai',
                    content: data.response,
                    timestamp: new Date().toISOString(),
                    mode: 'voice'
                });

                if (data.metadata && data.metadata.should_close) {
                    speakResponse(data.response, data.audio_url, true);
                    return;
                }

                speakResponse(data.response, data.audio_url);

                if (data.metadata && data.metadata.has_pending) {
                    console.log('There are pending queries to process');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                const errorMessage = "I'm having trouble connecting to the AI service. Please check if the backend server is running.";
                conversationHistory.push({
                    type: 'ai',
                    content: errorMessage,
                    timestamp: new Date().toISOString(),
                    mode: 'voice'
                });
                speakResponse(errorMessage);
            });
        }

        function speakResponse(text, audioUrl = null, shouldClose = false) {
            currentAIResponse = text;
            updateVoiceStatus('Speaking...');
            document.getElementById('voiceAvatar').classList.add('speaking-animation');
            isSpeaking = true;

            if (audioUrl) {
                currentAudio = new Audio(audioUrl);
                currentAudio.onended = function() {
                    finishSpeaking(shouldClose);
                };
                currentAudio.onerror = function() {
                    useBrowserTTS(text, shouldClose);
                };
                currentAudio.play();
            } else {
                useBrowserTTS(text, shouldClose);
            }
        }

        function useBrowserTTS(text, shouldClose = false) {
            if (synthesis) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                utterance.pitch = 1;
                utterance.volume = 0.8;

                utterance.onend = function() {
                    finishSpeaking(shouldClose);
                };

                utterance.onerror = function() {
                    finishSpeaking(shouldClose);
                };

                synthesis.speak(utterance);
            } else {
                finishSpeaking(shouldClose);
            }
        }

        function finishSpeaking(shouldClose = false) {
            isSpeaking = false;
            currentAIResponse = '';
            currentAudio = null;
            document.getElementById('voiceAvatar').classList.remove('speaking-animation');

            if (shouldClose) {
                setTimeout(() => {
                    closeInterface();
                }, 1000);
            } else {
                updateVoiceStatus('Ready to listen');

                if (continuousMode && shouldAutoRestart && !isListening) {
                    setTimeout(() => {
                        if (continuousMode && !isListening) {
                            try {
                                recognition.start();
                            } catch (e) {
                                console.log('Could not restart recognition:', e);
                            }
                        }
                    }, 500);
                }
            }
        }

        // Text interface functions
        function sendTextMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (!message) return;

            const chatMessages = document.getElementById('chatMessages');

            // Add user message
            const userMessage = document.createElement('div');
            userMessage.className = 'flex items-start space-x-3 justify-end chat-bubble';
            userMessage.innerHTML = `
                <div class="bg-gradient-to-r from-blue-600 to-cyan-600 rounded-lg px-4 py-2 max-w-xs">
                    <p class="text-sm text-white">${message}</p>
                </div>
                <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                </div>
            `;
            chatMessages.appendChild(userMessage);

            // Add to conversation history
            conversationHistory.push({
                type: 'user',
                content: message,
                timestamp: new Date().toISOString(),
                mode: 'text'
            });

            // Add typing indicator
            const typingIndicator = document.createElement('div');
            typingIndicator.className = 'flex items-start space-x-3 chat-bubble';
            typingIndicator.id = 'typingIndicator';
            typingIndicator.innerHTML = `
                <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                </div>
                <div class="bg-gray-700 rounded-lg px-4 py-2">
                    <div class="flex space-x-1">
                        <div class="typing-indicator"></div>
                        <div class="typing-indicator"></div>
                        <div class="typing-indicator"></div>
                    </div>
                </div>
            `;
            chatMessages.appendChild(typingIndicator);

            input.value = '';
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Send message to backend with resume data
            fetch('http://localhost:8000/api/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    message: message,
                    voice_enabled: false,
                    user_id: 'text_user',
                    resume_data: currentResumeData
                })
            })
            .then(response => response.json())
            .then(data => {
                // Remove typing indicator
                document.getElementById('typingIndicator').remove();

                // Add AI response
                addAIMessageToChat(data.response);

                // Add to conversation history
                conversationHistory.push({
                    type: 'ai',
                    content: data.response,
                    timestamp: new Date().toISOString(),
                    mode: 'text'
                });
            })
            .catch(error => {
                console.error('Error:', error);
                // Remove typing indicator
                const indicator = document.getElementById('typingIndicator');
                if (indicator) indicator.remove();

                // Add error message
                addAIMessageToChat("I'm currently setting up the backend. Please make sure the FastAPI server is running to enable AI responses!");
            });
        }

        function addAIMessageToChat(message) {
            const chatMessages = document.getElementById('chatMessages');
            const aiMessage = document.createElement('div');
            aiMessage.className = 'flex items-start space-x-3 chat-bubble';
            aiMessage.innerHTML = `
                <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                </div>
                <div class="bg-gray-700 rounded-lg px-4 py-2 max-w-xs">
                    <p class="text-sm">${message}</p>
                </div>
            `;
            chatMessages.appendChild(aiMessage);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Chat log functions
        function showChatLog() {
            const modal = document.getElementById('chatLogModal');
            const content = document.getElementById('chatLogContent');

            if (conversationHistory.length === 0) {
                content.innerHTML = '<p class="text-gray-400 text-center">No conversation history yet. Start talking to see your chat log here.</p>';
            } else {
                content.innerHTML = '';
                conversationHistory.forEach(entry => {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = `mb-4 p-3 rounded-lg ${entry.type === 'user' ? 'bg-purple-600 ml-8' : entry.type === 'system' ? 'bg-green-600 mx-4' : 'bg-gray-700 mr-8'}`;

                    const time = new Date(entry.timestamp).toLocaleTimeString();
                    const modeIcon = entry.mode === 'voice' ? 'ð¤' : 'ð¬';
                    const typeLabel = entry.type === 'user' ? 'You' : entry.type === 'system' ? 'System' : 'AI Assistant';

                    messageDiv.innerHTML = `
                        <div class="flex items-center justify-between mb-1">
                            <span class="text-xs font-semibold">${typeLabel}</span>
                            <span class="text-xs text-gray-300">${entry.type !== 'system' ? modeIcon + ' ' : ''}${time}</span>
                        </div>
                        <p class="text-sm">${entry.content}</p>
                    `;

                    content.appendChild(messageDiv);
                });
            }

            modal.style.display = 'flex';
        }

        function closeChatLog() {
            document.getElementById('chatLogModal').style.display = 'none';
        }

        // Event listeners
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendTextMessage();
            }
        });

        // Close modals when clicking outside
        document.getElementById('chatLogModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeChatLog();
            }
        });

        document.getElementById('resumeUploadModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeResumeUpload();
            }
        });

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Cleanup on page unload
        window.addEventListener('beforeunload', function() {
            if (recognition && isListening) {
                recognition.stop();
            }
            if (synthesis.speaking) {
                synthesis.cancel();
            }
        });
    </script>
</body>
</html>
